import{a as H}from"./chunk-65DWCQIG.js";import{$ as E,A as m,B as S,C as R,D as F,E as p,G as M,J as k,K as C,L as $,M as I,N as Q,O as w,S as d,U as D,V as N,W as A,Z as K,a as B,da as j,f,g as z,ga as V,h as P,ia as L,k as u,m as T,o as a,q as _,r as h,s as r,t as O,u as y,v,w as x,x as b,y as c,z as l}from"./chunk-WYMRJKPP.js";var U=t=>({"width.%":t}),g=class t{percentage=u(0);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-progress-bar"]],inputs:{percentage:[1,"percentage"]},decls:1,vars:3,consts:[[1,"progress-bar",3,"ngStyle"]],template:function(e,i){e&1&&m(0,"div",0),e&2&&r("ngStyle",C(1,U,i.percentage()))},dependencies:[N],styles:[".progress-bar[_ngcontent-%COMP%]{position:fixed;top:70px;height:8px;background-color:var(--tertiary-neon-color);transition:width .2s ease-in-out;box-shadow:var(--active-neon-box-shadow)!important}"]})};var W=(t,n)=>({"question-before":t,"question-after":n}),X=t=>({"buttons-container-hidden":t}),Y=(t,n,e,i)=>({"answer-selected":t,"pointer-events-none":n,"answer-correct":e,"answer-wrong":i});function Z(t,n){if(t&1){let e=R();c(0,"input",7),Q(1,"translate"),F("click",function(){let o=z(e).$implicit,s=p(2);return P(s.quizService.selectAnswer(s.currentQuestion(),o.key))}),l()}if(t&2){let e=n.$implicit,i=p().$implicit,o=p();r("ngClass",I(4,Y,i.selectedAnswerKey===e.key,o.isReadonly(),o.isReadonly()&&i.correctAnswerKey===e.key,o.isReadonly()&&i.correctAnswerKey!==e.key))("value",w(1,2,e.translationKey))}}function ee(t,n){if(t&1&&m(0,"app-button",6),t&2){let e=p(2);r("text","quiz.previousQuestion")("routerLink",e.previousRoute())}}function te(t,n){if(t&1&&m(0,"app-button",6),t&2){let e=p(2);r("text","quiz.nextQuestion")("routerLink",e.nextRoute())}}function ne(t,n){t&1&&S(0)}function ie(t,n){if(t&1&&h(0,ne,1,0,"ng-container",8),t&2){let e=p(2);r("ngTemplateOutlet",e.finishButton())}}function oe(t,n){if(t&1&&(c(0,"div",2)(1,"h1"),M(2),Q(3,"translate"),l(),c(4,"div",3),x(5,Z,2,9,"input",4,v),l(),c(7,"div",5),h(8,ee,1,2,"app-button",6)(9,te,1,2,"app-button",6)(10,ie,1,1,"ng-container"),l()()),t&2){let e=n.$implicit,i=n.$index,o=n.$index,s=p();r("ngClass",$(9,W,s.currentQuestion()>i,s.currentQuestion()<i)),a(2),k(" ",1+o,". ",w(3,7,e.translationKey)," "),a(3),b(e.answers),a(2),r("ngClass",C(12,X,!e.selectedAnswerKey)),a(),y(s.showPreviousButton()&&o!==0?8:-1),a(),y(o!==s.questions().length-1?9:-1),a(),y(o===s.questions().length-1&&s.finishButton()?10:-1)}}var q=class t{style="height: 100%;";showPreviousButton=u(!1);isReadonly=u(!1);finishButton=u();quizService=f(j);activatedRoute=f(K);router=f(E);currentQuestion=T(0);routeSubscription=new B;progressBarPercentage=d(()=>{let n=!!this.questions()[this.currentQuestion()].selectedAnswerKey;return Math.round((this.currentQuestion()+(n?1:0))/this.questions().length*100)});questions=d(()=>this.quizService.questions());previousRoute=d(()=>{let n=this.router.url.split("/").slice(0,-1).join("/"),e=this.currentQuestion()-1;return`${n}/${e}`});nextRoute=d(()=>{let n=this.router.url.split("/").slice(0,-1).join("/"),e=this.currentQuestion()+1;return`${n}/${e}`});ngOnInit(){this.routeSubscription=this.activatedRoute.params.subscribe(n=>{n.index&&this.currentQuestion.set(Number(n.index))})}ngOnDestroy(){this.routeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-quiz-questions"]],hostVars:2,hostBindings:function(e,i){e&2&&O(i.style)},inputs:{showPreviousButton:[1,"showPreviousButton"],isReadonly:[1,"isReadonly"],finishButton:[1,"finishButton"]},decls:4,vars:1,consts:[[3,"percentage"],[1,"quiz-container"],[1,"page-container",3,"ngClass"],[1,"answers-container"],["type","button",1,"answer",3,"ngClass","value"],[1,"buttons-container",3,"ngClass"],[3,"text","routerLink"],["type","button",1,"answer",3,"click","ngClass","value"],[4,"ngTemplateOutlet"]],template:function(e,i){e&1&&(m(0,"app-progress-bar",0),c(1,"div",1),x(2,oe,11,14,"div",2,v),l()),e&2&&(r("percentage",i.progressBarPercentage()),a(2),b(i.questions()))},dependencies:[D,L,V,H,A,g],styles:[".quiz-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%;width:100%}.page-container[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden;height:auto;transition:all .4s ease-in-out}.question-before[_ngcontent-%COMP%]{opacity:0!important;pointer-events:none!important;left:-50%!important;right:50%!important}.question-after[_ngcontent-%COMP%]{opacity:0!important;pointer-events:none!important;left:50%!important;right:-50%!important}.buttons-container[_ngcontent-%COMP%]{transition:opacity .2s linear;display:flex;justify-content:center;gap:64px;opacity:1}.buttons-container-hidden[_ngcontent-%COMP%]{opacity:0!important;pointer-events:none!important}.pointer-events-none[_ngcontent-%COMP%]{pointer-events:none}"]})};export{q as a};
